<md-dialog style="width:100%;max-width:950px;max-height:620px;">
<form style="overflow:hidden;">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>Settings</h2>
			<span flex></span>
		</div>
	</md-toolbar>
		<md-dialog-content style="padding:25px;">
			<div>
			<fieldset>
				<legend>Config Settings</legend>
					<div layout="row">
						<div flex>
							<md-button class="md-accent" style="width: 100%" ng-click="openConfig()">
							<i class="mdi mdi-arrow-up-bold-hexagon-outline"></i>
							Goto Config</md-button>
						</div>
						<div flex>
							<import-choose label="Import Config" ng-model="importConfig"></import-choose>
						</div>
					</div>
			</fieldset>

				<fieldset>
					<legend>Main Settings</legend>
					<div layout="row">
						<div flex>
							<md-input-container>
								<label>Favourite Engine</label>
				  				<md-select ng-model="config.misc.preselectedengine" placeholder="Favourite Engine" ng-disabled="hasEngine()">
									<md-option ng-repeat="(key,val) in config.engines" ng-show="config.active[key] === true" value="{{key}}">{{key}}</md-option>
								</md-select>
							</md-input-container>
						</div>

						<div flex>
							<md-input-container>
								<label>Select list for Startup</label>
			  					<md-select ng-model="config.initList" placeholder="Select List" ng-disabled="modlist.length === 0">
									<md-option value="false">Deactivate</md-option>
									<md-option ng-repeat="list in modlist" value="{{list}}">{{list.name}}</md-option>
								</md-select>
							</md-input-container>
						</div>
					</div>
					<dir-choose label="WAD Path:" ng-model="config.wadpath"></dir-choose>
					<dir-choose label="iWAD Path:" ng-model="config.iwadpath"></dir-choose>
					<dir-choose label="Modlist Path:" ng-model="config.modlistpath"></dir-choose>
					<dir-choose label="Screenshot Path:" ng-model="config.screenshotpath"></dir-choose>
				</fieldset>

				<div class="settings-cb-wrapper">
					<md-checkbox ng-model="config.active.oblige" aria-label="Oblige" class="settings-cb">
						<p class="settings-cb-label">Oblige</p>
					</md-checkbox>
				</div>

				<fieldset class="settings-fieldset" ng-show="config.active.oblige">
					<legend>Oblige Settings</legend>
					<div>
						<file-choose label="Oblige Path:" ng-model="config.oblige.binary"></file-choose>
						<dir-choose label="Oblige MapConfig Path:" ng-model="config.oblige.configs"></dir-choose>
						<file-choose label="Oblige Random Map File:" ng-model="config.oblige.mappath"></file-choose>
					</div>
				</fieldset>

			</div>
		</md-dialog-content>

		<div class="md-actions" layout="row">
			<span flex></span>
			<md-button ng-click="cancel()">Cancel</md-button>
			<md-button class="md-accent" ng-click="save()" style="margin-right:20px;">Save</md-button>
		</div>
</form>
</md-dialog>
